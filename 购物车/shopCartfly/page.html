<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="jquery.min.js"></script>
		
		<style>
			#shopbtn{
				font-size: 30px;
				padding: 5px 10px;
				border: 1px solid red;
				margin-bottom: 20px;
				cursor: pointer;
			}
			p,button{
				margin-left:80px;
			}
			img{
				margin-left:40px ;
			} 
		</style>
		<script src="cookie.js"></script>
	</head>
	<body>
		
		<div class="shopinfo">
			<!--<img src="img/1.jpg" alt="" />
			<p>小米1</p>
			<p>333</p>
			<button>购买</button>-->
		</div>
	</body>
</html>
<script type="text/javascript">
 	//页面加载后 获取路径信息 从而得到要显示的商品的类别和编号
 	//请求ajax  获取服务器数据  ，根据商品的类别和编号确定要显示的商品
 	window.onload = function(){
 		var str = location.href;
 		var arr = str.split("?");
 		var pid = arr[1].split("=")[1];
 		$.ajax({
 			type:"get",
 			url:"data.json?id="+new Date().getTime(),
 			async:true,
 			success : function(arr){
 				var page = "";
 				for( var i = 0 ; i < arr.length ; i++ ){
 					var pro = arr[i];
 					if( pro.id == pid ){
 						//找到了要显示的商品信息
 						page = `<img src="img/${pro.src}" alt="" />
								<p>${pro.name}</p>
								<p>${pro.price}</p>
								<button>购买</button>`;
 					}
 				}
 				$(".shopinfo").html( page );
 				
 			}
 		});
 		
 	}
</script>